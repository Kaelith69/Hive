<svg xmlns="http://www.w3.org/2000/svg" width="820" height="280" viewBox="0 0 820 280">
  <defs>
    <linearGradient id="boxGrad1" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#7C3AED;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5B21B6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="boxGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2563EB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="boxGrad3" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#06B6D4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0891B2;stop-opacity:1" />
    </linearGradient>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#94a3b8" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="820" height="280" fill="#0f172a" rx="12" />
  <rect width="820" height="280" fill="none" stroke="#1e293b" stroke-width="1" rx="12" />

  <!-- Title -->
  <text x="410" y="30" font-size="13" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', monospace, sans-serif" fill="#94a3b8" letter-spacing="3">
    PIPELINE ARCHITECTURE
  </text>

  <!-- Step 1: WhatsApp Export -->
  <rect x="20" y="60" width="120" height="80" rx="8" fill="url(#boxGrad1)" />
  <text x="80" y="93" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">WhatsApp</text>
  <text x="80" y="108" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">Export</text>
  <text x="80" y="128" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#ddd6fe">.txt file</text>

  <!-- Arrow 1→2 -->
  <line x1="142" y1="100" x2="168" y2="100" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrow)" />

  <!-- Step 2: extract.py -->
  <rect x="170" y="60" width="120" height="80" rx="8" fill="url(#boxGrad2)" />
  <text x="230" y="93" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">extract.py</text>
  <text x="230" y="113" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#bfdbfe">filter + clean</text>
  <text x="230" y="128" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#bfdbfe">your msgs only</text>

  <!-- Arrow 2→3 -->
  <line x1="292" y1="100" x2="318" y2="100" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrow)" />

  <!-- Step 3: convert.py -->
  <rect x="320" y="60" width="120" height="80" rx="8" fill="url(#boxGrad3)" />
  <text x="380" y="93" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">convert.py</text>
  <text x="380" y="113" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#cffafe">→ JSONL pairs</text>
  <text x="380" y="128" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#cffafe">user/assistant</text>

  <!-- Arrow 3→4 -->
  <line x1="442" y1="100" x2="468" y2="100" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrow)" />

  <!-- Step 4: train.py -->
  <rect x="470" y="60" width="120" height="80" rx="8" fill="url(#boxGrad1)" />
  <text x="530" y="93" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">train.py</text>
  <text x="530" y="113" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#ddd6fe">LoRA fine-tune</text>
  <text x="530" y="128" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#ddd6fe">4-bit quant</text>

  <!-- Arrow 4→5 -->
  <line x1="592" y1="100" x2="618" y2="100" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrow)" />

  <!-- Step 5: export_model.py -->
  <rect x="620" y="60" width="120" height="80" rx="8" fill="url(#boxGrad2)" />
  <text x="680" y="88" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">export_model</text>
  <text x="680" y="103" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#ffffff">.py</text>
  <text x="680" y="120" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#bfdbfe">HF / GGUF</text>
  <text x="680" y="133" font-size="9.5" text-anchor="middle"
        font-family="monospace" fill="#bfdbfe">Ollama ready</text>

  <!-- Output labels below boxes -->
  <text x="80" y="165" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">raw/</text>
  <text x="230" y="165" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">cleaned/</text>
  <text x="380" y="165" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">personality.jsonl</text>
  <text x="530" y="165" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">outputs/</text>
  <text x="680" y="165" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">exports/</text>

  <!-- Utility scripts row -->
  <text x="410" y="200" font-size="11" font-weight="700" text-anchor="middle"
        font-family="'Segoe UI', sans-serif" fill="#475569" letter-spacing="2">UTILITY SCRIPTS</text>

  <rect x="60" y="215" width="140" height="36" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" />
  <text x="130" y="230" font-size="9.5" text-anchor="middle" font-family="monospace" fill="#94a3b8">validate_dataset.py</text>
  <text x="130" y="244" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">checks JSONL integrity</text>

  <rect x="230" y="215" width="140" height="36" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" />
  <text x="300" y="230" font-size="9.5" text-anchor="middle" font-family="monospace" fill="#94a3b8">clean_incomplete.py</text>
  <text x="300" y="244" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">removes bad entries</text>

  <rect x="400" y="215" width="140" height="36" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" />
  <text x="470" y="230" font-size="9.5" text-anchor="middle" font-family="monospace" fill="#94a3b8">fix_dataset.py</text>
  <text x="470" y="244" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">repairs format issues</text>

  <rect x="570" y="215" width="180" height="36" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" />
  <text x="660" y="230" font-size="9.5" text-anchor="middle" font-family="monospace" fill="#94a3b8">kaggle_training_notebook.py</text>
  <text x="660" y="244" font-size="9" text-anchor="middle" font-family="monospace" fill="#64748b">pre-built cloud training</text>
</svg>
